<Application x:Class="NxTiler.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml"
             ShutdownMode="OnMainWindowClose">
    <Application.Resources>
        <ResourceDictionary>
            <SolidColorBrush x:Key="Success" Color="#2ecc71"/>
            <SolidColorBrush x:Key="ProxmoxGray" Color="#1f2a33"/>
            <SolidColorBrush x:Key="ProxmoxDarkGray" Color="#1e1f22"/>
            <SolidColorBrush x:Key="ProxmoxBlue" Color="#4a90d6"/>

            <!-- Proxmox-style button -->
            <Style x:Key="ProxmoxButton" TargetType="Button">
                <Setter Property="Background" Value="#31363d"/>
                <Setter Property="Foreground" Value="#e6edf3"/>
                <Setter Property="BorderBrush" Value="#4a545e"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding" Value="8,4"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="2">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#3a414a"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#2a2f35"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Proxmox-style accent button (blue/orange) -->
            <Style x:Key="ProxmoxAccentButton" TargetType="Button">
                <Setter Property="Background" Value="#4a90d6"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="BorderBrush" Value="#4a90d6"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding" Value="8,4"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="2">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#5aa0e0"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#3a7bc0"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Default Styles for Dark Theme -->
            <Style TargetType="TextBlock">
                <Setter Property="Foreground" Value="#e6edf3"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="FontFamily" Value="Segoe UI"/>
            </Style>
            
            <Style TargetType="TextBox">
                <Setter Property="Background" Value="#2a2f35"/>
                <Setter Property="Foreground" Value="#e6edf3"/>
                <Setter Property="BorderBrush" Value="#4a545e"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding" Value="4,3"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="CaretBrush" Value="White"/>
            </Style>

            <Style TargetType="CheckBox">
                <Setter Property="Foreground" Value="#e6edf3"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="FontSize" Value="12"/>
            </Style>
            
            <Style TargetType="ListView">
                <Setter Property="Background" Value="#2a2f35"/>
                <Setter Property="Foreground" Value="#e6edf3"/>
                <Setter Property="BorderBrush" Value="#4a545e"/>
            </Style>

             <Style TargetType="ListViewItem">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ListViewItem">
                            <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" 
                                    BorderThickness="{TemplateBinding BorderThickness}" 
                                    Background="{TemplateBinding Background}" 
                                    Padding="{TemplateBinding Padding}" 
                                    SnapsToDevicePixels="true">
                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" 
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter Property="Background" TargetName="Bd" Value="#3a414a"/>
                                </Trigger>
                                <Trigger Property="IsSelected" Value="true">
                                    <Setter Property="Background" TargetName="Bd" Value="#4a90d6"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="GridViewColumnHeader">
                <Setter Property="Background" Value="#2a2f35"/>
                <Setter Property="Foreground" Value="#e6edf3"/>
                <Setter Property="Padding" Value="6,3"/>
                <Setter Property="FontSize" Value="11"/>
                <Setter Property="BorderBrush" Value="#4a545e"/>
                <Setter Property="BorderThickness" Value="0,0,1,1"/>
            </Style>

            <Style TargetType="ContextMenu">
                <Setter Property="Background" Value="#1e1f22"/>
                <Setter Property="Foreground" Value="#e6edf3"/>
                <Setter Property="BorderBrush" Value="#3a424a"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="HasDropShadow" Value="True"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ContextMenu">
                            <Border x:Name="Border" Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Padding="2">
                                <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle"/>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="MenuItem">
                <Setter Property="Foreground" Value="#e6edf3"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Padding" Value="6,3"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="MenuItem">
                            <Border x:Name="Border" Background="Transparent" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="True">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" SharedSizeGroup="Icon"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <!-- Icon/Checkmark -->
                                    <ContentPresenter x:Name="Icon" ContentSource="Icon" Margin="0,0,8,0" VerticalAlignment="Center" Width="16" Height="16"/>
                                    <!-- Text -->
                                    <ContentPresenter ContentSource="Header" Grid.Column="1" VerticalAlignment="Center"/>
                                    <!-- Manual Checkmark (if Icon is null but IsChecked is true) -->
                                    <Path x:Name="CheckMark" Grid.Column="0" Visibility="Collapsed" Fill="#2ecc71"
                                          Data="M0,5 L3,8 L8,0" Stroke="#2ecc71" StrokeThickness="2" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Grid>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Setter TargetName="Border" Property="Background" Value="#3a414a"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter Property="Foreground" Value="#8e9aa6"/>
                                </Trigger>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

        </ResourceDictionary>
    </Application.Resources>
</Application>