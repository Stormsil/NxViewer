<Window x:Class="NxTiler.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None" ResizeMode="NoResize"
        AllowsTransparency="True" Background="Transparent"
        Topmost="True" ShowInTaskbar="False"
        SizeToContent="WidthAndHeight">
    
    <Border CornerRadius="8" Background="#F2262626"
          BorderBrush="#555555" BorderThickness="1" Padding="8" Margin="0">
        <StackPanel Orientation="Horizontal">
            <Button x:Name="BtnArrange" Content="Разместить" Click="BtnArrange_Click"
                    Style="{StaticResource ProxmoxAccentButton}" Margin="0,0,8,0"/>
            
            <ToggleButton x:Name="BtnAuto" Content="Автораскладка" Padding="16,8" Margin="0,0,8,0"
                    Checked="BtnAuto_Checked" Unchecked="BtnAuto_Unchecked">
                <ToggleButton.Style>
                    <!-- Custom Toggle Style based on ProxmoxButton -->
                    <Style TargetType="ToggleButton">
                        <Setter Property="Background" Value="#505050"/>
                        <Setter Property="Foreground" Value="#E0E0E0"/>
                        <Setter Property="BorderBrush" Value="#666666"/>
                        <Setter Property="BorderThickness" Value="1"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ToggleButton">
                                    <Border x:Name="border" Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="3" Padding="16,8">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsChecked" Value="True">
                                            <Setter Property="Background" TargetName="border" Value="#4caf50"/> <!-- Success Green -->
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="BorderBrush" Value="#4caf50"/>
                                        </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Opacity" Value="0.9"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ToggleButton.Style>
            </ToggleButton>

            <Button Content="✕" Click="BtnClose_Click" Style="{StaticResource ProxmoxButton}"
                    ToolTip="Закрыть (F1)" Width="40" Padding="0"/>
        </StackPanel>
    </Border>
</Window>